{"title":"Debug Data","created_at":"2014-06-27 22:57:00 UTC","author":"Ajit (MJPEG Optimisation)","content":"<div dir=\"ltr\" style=\"text-align: left;\" trbidi=\"on\">Things are not as easy as they seem to look. After plenty of debugging and testing on hardware I was finally able to get the debug code working. I haven't implemented the part which outputs size of encoded data because it is a 3 byte value and I didn't have the foresight to write a very generalised code. Other debug data are 1 byte.<br /><br />So this is what I get from the UART. By the way I am using the test image and encoding quality of 50%.<br /><br /><ul style=\"text-align: left;\"><li>Input Frame Rate: 60 Hz. This is what it is suppose to be.</li><li>Output Frame Rate: ranges from 15 to 21. So lets take the average value to be 18.</li><li>Time taken to write frame into DDR2 Ram: 16-17 ms. This is what I approximated</li><li>Time taken for encoder to compress: 23 ms Again I was close</li><li>No. of frames dropped: 2</li></ul>So in a second is 60 frames. And for every frame read, 2 frames are dropped which means only 20 frames are being processed.<br /><br />Writing + processing time = 40 ms =&gt; 25 fps. So I *guess* we are losing 10 milliseconds in sending the data. (will check this).<br /><br />So I guess we know what our bottleneck is : When image is written into ddr2, it is not processed and when image is processed, image is not written into ddr2.<br /><br /><br />&nbsp; </div><div class=\"author\">\n  <span>\n    <i>Originally posted on <a href=\"http://ajitmathewgsoc.blogspot.com/\">TimVideo GSoC 2014: MJPEG Optimisation</a></i>\n  </span>\n</div>\n"}