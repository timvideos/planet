{"title":"Running Docker'd Streamingsystem","created_at":"2014-07-19 02:38:51 UTC","author":"Max (Dockerization)","content":"<p>I covered this in a post a few weeks ago, but I've updated it a bit here.</p>\n\n<h2>How to get streaming system up and running!</h2>\n\n<ul>\n<li>make sure your host(s) getting pushed to has docker <a href=\"https://docs.docker.com/installation/ubuntulinux/\">installed</a> (ubuntu instructions)</li>\n<li>clone my 'docker' streamingsystem\n\n<ul>\n<li><code>git clone -b docker https://github.com/maxstr/streaming-system.git</code></li>\n</ul></li>\n<li>fill out config.private.json, config.json\n\n<ul>\n<li>I recommend setting up just a single channel. You can try running the encoder/collector on the same host if you wish!</li>\n</ul></li>\n<li><code>cd streaming-system/flumotion-config/tools/pusher</code></li>\n<li><code>. bin/activate</code></li>\n<li><code>fab prepare_deploy</code> \n\n<ul>\n<li>this generates 'host files' in the hosts directory from config.json</li>\n<li>fill out ssh connection details in the host file. you can include a username, a password, and a keyfile. the user specified must have sudo access.</li>\n</ul></li>\n<li><code>fab deploy</code> \n\n<ul>\n<li>this pushes out the local configuration files to the hosts and builds the images</li>\n</ul></li>\n<li>wait \n\n<ul>\n<li>~1.4gb is being downloaded from docker repository, this will only take a long time once per host because of the way commits work :) </li>\n</ul></li>\n<li><code>fab up</code> \n\n<ul>\n<li>this starts all the flumotion containers on all hosts.</li>\n</ul></li>\n<li>voila~</li>\n<li><code>fab down</code> to stop all containers on host.</li>\n</ul><div class=\"author\">\n  <span>\n    <i>Originally posted on <a href=\"http://mstritzi.nfshost.com/blog\">Max Stritzinger</a></i>\n  </span>\n</div>\n"}