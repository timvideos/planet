{"title":"Videotest component ported","created_at":"2014-06-05 00:00:00 UTC","author":"Amanpreet (Porting Flumotion)","content":"<p>An important requirement, gst-python1.0 is not available for Ubuntu 12.04 precise in the Gstreamer developers PPA so I compiled it from source. This provided overrides that were missing in my system and this solved various problems including Gst.Fraction (previous blog post) and Gst.TIME_ARGS (that I had implemented myself).</p>\n\n<p>I did some missed changes, ported the Videotest component completely and ported <code>flumotion/worker/checks/check.py</code> as well. There is just a minor problem in <code>gstreamer.py</code>. After solving this, I will post about how to create and test a stream using just the Videotest producer.</p>\n\n<div class=\"highlight\"><pre><code class=\"python\"><span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">):</span>\n  <span class=\"n\">File</span> <span class=\"s\">&quot;/home/aps/workspace/gsoc/flumotion-orig/flumotion/common/gstreamer.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">55</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">verbose_deep_notify_cb</span>\n    <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">orig</span><span class=\"o\">.</span><span class=\"n\">get_property</span><span class=\"p\">(</span><span class=\"n\">pspec</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"ne\">AttributeError</span><span class=\"p\">:</span> <span class=\"s\">&#39;NoneType&#39;</span> <span class=\"nb\">object</span> <span class=\"n\">has</span> <span class=\"n\">no</span> <span class=\"n\">attribute</span> <span class=\"s\">&#39;name&#39;</span>\n</code></pre></div>\n\n<p>This error is not creating problems with stream though and mood of component is still “happy”. One fix could be adding following code in <a href=\"https://github.com/aps-sids/flumotion-orig/blob/porting-to-gst1.0/flumotion/common/gstreamer.py#L49\">this</a> function.</p>\n\n<div class=\"highlight\"><pre><code class=\"python\"><span class=\"k\">if</span> <span class=\"n\">pspec</span> <span class=\"o\">==</span> <span class=\"bp\">None</span><span class=\"p\">:</span>\n    <span class=\"k\">return</span>\n</code></pre></div><div class=\"author\">\n  <span>\n    <i>Originally posted on <a href=\"http://aps-sids.github.io/porting-flumotion\">Porting Flumotion - GSoC '14 Progress Blog</a></i>\n  </span>\n</div>\n"}