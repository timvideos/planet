{"title":"Work Done Part 2","content":"---\ntitle: \"Work done part-2\"\nkind: article\ncreated_at: 2014-05-13 11:10:00 UTC\nauthor: Ajit (MJPEG Optimisation)\nimage: https://avatars3.githubusercontent.com/u/7080716?s=50\ncategories: GSoC-2014-HDMI2USB\ntags: \"news hdmi2usb mjpeg\"\nlayout: post\n---<div dir=\"ltr\" style=\"text-align: left;\" trbidi=\"on\">New day! &nbsp;New blog post!<br /><br />This post will describe the last idea in my head which I did mention in my proposal but has a serious con. But this idea suddenly seems to be an attractive option as the limited BRAM memory seems to be a problem.<br /><br />The idea is basically to divide the picture into two parts and then process them simultaneously. Send them two computer and then stitch them together.<br /><br /><table align=\"center\" cellpadding=\"0\" cellspacing=\"0\" class=\"tr-caption-container\" style=\"margin-left: auto; margin-right: auto; text-align: center;\"><tbody><tr><td style=\"text-align: center;\"><a href=\"https://lh6.googleusercontent.com/sGdUpFDYf241lvp--k5zENAmwEetynxal3596xlW8Ym7KtB6Y2TZATS7tkzEbOKP4Ju79SLuwBXBv7Mu2RW6eN3JdVHtCqzaWy3Tp9q6akZs3MJqQa3iEuf-OsDC7t6G1Q\" imageanchor=\"1\" style=\"margin-left: auto; margin-right: auto;\"><img border=\"0\" height=\"287px;\" src=\"https://lh6.googleusercontent.com/sGdUpFDYf241lvp--k5zENAmwEetynxal3596xlW8Ym7KtB6Y2TZATS7tkzEbOKP4Ju79SLuwBXBv7Mu2RW6eN3JdVHtCqzaWy3Tp9q6akZs3MJqQa3iEuf-OsDC7t6G1Q\" style=\"-webkit-transform: rotate(0rad); border: none;\" width=\"624px;\" /></a></td></tr><tr><td class=\"tr-caption\" style=\"text-align: center;\">(Taken from my proposal)</td></tr></tbody></table><br />This has two advantage:<br />1) Currently 1 buffer of 16 lines is being used. To implement this I need to split the buffer into half. So extra input buffer is not required but an extra output buffer will be required in case the right half of the image gets processed first.This buffer will obviously be of smaller size as it is storing a compressed image. Of course, some extra pipe lining buffers will be added due to an extra &nbsp;jpeg core but the main reason for increased memory utilization the input buffer size remains the same.<br />2) Since each jpeg encoder has a smaller size(half) data to process, processing will be faster.<br /><br />The biggest problem with this is that the HDMI2USB will output two frames one after the another, which will then be decoded by the UVC driver and then have to be stitched back together. Honestly I don't have much idea about UVC drivers and how much extra time the \"stitching\" process will take &nbsp;(Joel if you can give me some pointers on this it would be great) but one thing is for sure: HDMI2USB WILL NO LONGER BE PLUG AND PLAY DEVICE. This is why Jahanzeb was not impressed with this idea. Also whether this will be suitable for streaming, how much extra resources will be used etc can only be accurately stated once it has been implemented.<br /><br />Currently I am reviewing the code of JPEG encoder. If I do get something interesting I will blog about it.<br /><br /><br /><br /><span id=\"docs-internal-guid-70a4c086-f522-fdbf-5929-ec398369746f\"><span style=\"font-family: Calibri; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;\"></span></span></div><div class=\"author\">\n  <span>\n    <i>Originally posted on <a href=\"http://ajitmathewgsoc.blogspot.com/\">TimVideo GSoC 2014: MJPEG Optimisation</a></i>\n  </span>\n</div>\n"}