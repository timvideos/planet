{"title":"RTP Verilog Code and Synthesis","created_at":"2014-06-19 07:37:00 UTC","author":"Tariq (Ethernet Support)","content":"Today was getting hands dirty writing Verilog code. The interface of the RTP core is shown in Figure 6 of&nbsp;<a href=\"http://bit.ly/1jc1wFk\">Specification</a>. Note that RTP core will add UDP/IP and Ethernet Headers as well in the near future. The code correctly generates RTP packet i.e., header and payload (chosen to be small enough to debug).The design has also gone through synthesis Xilinx Synthesis flow and successfully post-synthesis simulation. The code is available on <a href=\"http://bit.ly/1lYcoMJ\">bitbucket</a>. The RTL file for RTP is <a href=\"http://bit.ly/1quEJNJ\">packetizer.v</a>, the testbench is <a href=\"http://bit.ly/1invEnr\">tb_packetizer.v</a>. The post-synthesis netlist is <a href=\"http://bit.ly/1oJjDeJ\">packetizer_synthesis.v</a>. You need Xilinx unisims, simprims, uni9000 and unimacro libraries to run the post-synthesis simulation.<br /><br />Here is a brief log of the RTL Run. If you have read the&nbsp;<a href=\"http://bit.ly/1jc1wFk\">Specification</a>&nbsp;(in particular pages 3-4), this should make sense<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0: 0000000000000000000000000000000000000000000000000000000000<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;145: 80180000000000000000000000000500001a0000000007000008000009<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;195: 80180001000000000000000000000500001a050000000a00000b00000c<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;245: 80180002000000000000000000000500001a0a0000000d00000e00000f<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;295: 80180003000000000000000000000500001b0000000010000011000012<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;345: 80180004000000000000000000000500001b0500000013000014000015<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;395: 80180005000000000000000000000500001b0a00000016000017000018<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;445: 80180006000000000000000000000500001c000000001900001a00001b<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;495: 80180007000000000000000000000500001c050000001c00001d00001e<br /><div><br /></div><div><br /></div><div>&nbsp; Here is a snapshot of the RTL simulation</div><div><br /></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"http://1.bp.blogspot.com/-hVCyhNycw2Y/U6KSIWeceqI/AAAAAAAAAIQ/kksWosCoLvk/s1600/rtp_rtl_sim.jpg\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" src=\"http://1.bp.blogspot.com/-hVCyhNycw2Y/U6KSIWeceqI/AAAAAAAAAIQ/kksWosCoLvk/s1600/rtp_rtl_sim.jpg\" height=\"166\" width=\"320\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">Here is a brief log of the post-synthesis simulation</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0: 0000000000000000000000000000000000000000000000000000000000</div><div class=\"separator\" style=\"clear: both;\"><br /></div><div class=\"separator\" style=\"clear: both;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;145: 80180000000000000000000000000500001a0000000007000008000009</div><div class=\"separator\" style=\"clear: both;\"><br /></div><div class=\"separator\" style=\"clear: both;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;195: 80180001000000000000000000000500001a050000000a00000b00000c</div><div class=\"separator\" style=\"clear: both;\"><br /></div><div class=\"separator\" style=\"clear: both;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;245: 80180002000000000000000000000500001a0a0000000d00000e00000f</div><div class=\"separator\" style=\"clear: both;\"><br /></div><div class=\"separator\" style=\"clear: both;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;295: 80180003000000000000000000000500001b0000000010000011000012</div><div class=\"separator\" style=\"clear: both;\"><br /></div><div class=\"separator\" style=\"clear: both;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;345: 80180004000000000000000000000500001b0500000013000014000015</div><div class=\"separator\" style=\"clear: both;\"><br /></div><div class=\"separator\" style=\"clear: both;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;395: 80180005000000000000000000000500001b0a00000016000017000018</div><div class=\"separator\" style=\"clear: both;\"><br /></div><div class=\"separator\" style=\"clear: both;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;445: 80180006000000000000000000000500001c000000001900001a00001b</div><div class=\"separator\" style=\"clear: both;\"><br /></div><div class=\"separator\" style=\"clear: both;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;495: 80180007000000000000000000000500001c050000001c00001d00001e</div><div class=\"separator\" style=\"clear: both;\"><br /></div><div class=\"separator\" style=\"clear: both;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;545: 80180008000000000000000000000500001c0a0000001f000020000021</div><div class=\"separator\" style=\"clear: both;\"><br /></div><div class=\"separator\" style=\"clear: both;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;595: 80180009000000000000000000000500001d0000000022000023000024</div><div><br /></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><br /></div><div>Here is a snapshot of the post-synthesis simulation</div><div><br /></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"http://1.bp.blogspot.com/-YGeEBwTp1wE/U6KS04NwoCI/AAAAAAAAAIY/31BLIFfAg4k/s1600/rtp_postsynl_sim.jpg\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" src=\"http://1.bp.blogspot.com/-YGeEBwTp1wE/U6KS04NwoCI/AAAAAAAAAIY/31BLIFfAg4k/s1600/rtp_postsynl_sim.jpg\" height=\"135\" width=\"320\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">The Synthesis summary report is <a href=\"http://bit.ly/1nRfjqe\">packetizer.syr</a></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">As the code is uploaded to&nbsp;<a href=\"http://bit.ly/1lYcoMJ\">bitbucket</a><b>, </b>please help test it. Thanks in advance</div><div><br /></div><div class=\"author\">\n  <span>\n    <i>Originally posted on <a href=\"http://hdmi2ethernet.blogspot.com/\">GSOC 2014</a></i>\n  </span>\n</div>\n"}