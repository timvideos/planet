{"title":"Week 3 Progress","created_at":"2014-06-08 07:00:00 UTC","author":"Amanpreet (Porting Flumotion)","content":"<p>In this week, I fixed the running tests first of all. Running all the tests using <code>trial -rselect flumotion.test</code> was freezing due to mixing of gobject and gi. So, I created a working-tests.txt and a run_tests.sh to read this file and run only the tests for ported module.</p>\n\n<p>There were some issues due to missing overrides. These were implemented in gst-python1.0 version 1.2.0 (maybe 1.1.9 as well) and above, but this package is not available for Ubuntu 12.04 precise. Compiling gst-python1.0 from source fixed these problems.</p>\n\n<p>I continued and completed the porting of check.py and the Videotest producer. I also fixed a troubling issue about pspec set to None. Further, I’ve posted instructions about how to <a href=\"http://aps-sids.github.io/porting-flumotion/2014/06/06/run-a-test-stream/\">run a test stream</a>.</p>\n\n<p>After this, Theora encoder was also ported and encoder component’s mood is also set to ‘happy’.</p>\n\n<p>Final step needed to “watch” a stream is a sink, httpstreamer. After porting this and running the stream, I get following error:</p>\n\n<div class=\"highlight\"><pre><code class=\"bash\"><span class=\"o\">(</span>flumotion-job:7808<span class=\"o\">)</span>: GStreamer-WARNING **: gstpad.c:4506:store_sticky_event:&lt;eater:default-depay:src&gt; Sticky event misordering, got <span class=\"s1\">&#39;segment&#39;</span> before <span class=\"s1\">&#39;caps&#39;</span>\n\n<span class=\"o\">(</span>flumotion-job:7808<span class=\"o\">)</span>: GStreamer-WARNING **: gstpad.c:4506:store_sticky_event:&lt;eater:default-identity:src&gt; Sticky event misordering, got <span class=\"s1\">&#39;segment&#39;</span> before <span class=\"s1\">&#39;caps&#39;</span>\n\n<span class=\"o\">(</span>flumotion-job:7808<span class=\"o\">)</span>: GStreamer-WARNING **: gstpad.c:4506:store_sticky_event:&lt;videoconvert0:src&gt; Sticky event misordering, got <span class=\"s1\">&#39;segment&#39;</span> before <span class=\"s1\">&#39;caps&#39;</span>\n\n<span class=\"o\">(</span>flumotion-job:7808<span class=\"o\">)</span>: GStreamer-WARNING **: gstpad.c:4506:store_sticky_event:&lt;encoder:sink&gt; Sticky event misordering, got <span class=\"s1\">&#39;segment&#39;</span> before <span class=\"s1\">&#39;caps&#39;</span>\n\n<span class=\"o\">(</span>flumotion-job:7808<span class=\"o\">)</span>: GStreamer-WARNING **: gstpad.c:4506:store_sticky_event:&lt;videoconvert0:sink&gt; Sticky event misordering, got <span class=\"s1\">&#39;segment&#39;</span> before <span class=\"s1\">&#39;caps&#39;</span>\n\n<span class=\"o\">(</span>flumotion-job:7808<span class=\"o\">)</span>: GStreamer-WARNING **: gstpad.c:4506:store_sticky_event:&lt;eater:default-identity:sink&gt; Sticky event misordering, got <span class=\"s1\">&#39;segment&#39;</span> before <span class=\"s1\">&#39;caps&#39;</span>\n\n<span class=\"o\">(</span>flumotion-job:7806<span class=\"o\">)</span>: GStreamer-WARNING **: gstpad.c:4506:store_sticky_event:&lt;eater:default-depay:src&gt; Sticky event misordering, got <span class=\"s1\">&#39;segment&#39;</span> before <span class=\"s1\">&#39;caps&#39;</span>\n\n<span class=\"o\">(</span>flumotion-job:7806<span class=\"o\">)</span>: GStreamer-WARNING **: gstpad.c:4506:store_sticky_event:&lt;eater:default-identity:src&gt; Sticky event misordering, got <span class=\"s1\">&#39;segment&#39;</span> before <span class=\"s1\">&#39;caps&#39;</span>\n\n<span class=\"o\">(</span>flumotion-job:7806<span class=\"o\">)</span>: GStreamer-WARNING **: gstpad.c:4506:store_sticky_event:&lt;sink:sink&gt; Sticky event misordering, got <span class=\"s1\">&#39;segment&#39;</span> before <span class=\"s1\">&#39;caps&#39;</span>\n\n<span class=\"o\">(</span>flumotion-job:7806<span class=\"o\">)</span>: GStreamer-WARNING **: gstpad.c:4506:store_sticky_event:&lt;eater:default-identity:sink&gt; Sticky event misordering, got <span class=\"s1\">&#39;segment&#39;</span> before <span class=\"s1\">&#39;caps&#39;</span>\n</code></pre></div>\n\n<p>thaytan from #gstreamer told me that it means some element is not setting up pads in the right order. It needs to set caps before sending the segment event.</p>\n\n<p>In week 4, I will fix this issue, run a complete test stream successfully and continue with porting of Audiotest producer.</p><div class=\"author\">\n  <span>\n    <i>Originally posted on <a href=\"http://aps-sids.github.io/porting-flumotion\">Porting Flumotion - GSoC '14 Progress Blog</a></i>\n  </span>\n</div>\n"}