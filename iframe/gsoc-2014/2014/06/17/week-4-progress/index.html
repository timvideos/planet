<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8"/>
  <title>TimVideos.us Planet - Developers News</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
  <meta name="description" content="News from our best developers, all news aggregated by planet."/>
  <link rel="alternate" type="application/atom+xml" title="Tim Videos Planet Feed" href="/feed.xml" />
  <link rel="canonical" href="http://planet.timvideos.us/iframe/gsoc-2014/2014/06/17/week-4-progress//">
  <link href="/css/jquery.fancybox.css?v=2.1.5" rel="stylesheet"/>
  <link href="/css/bootstrap.min.css" rel="stylesheet" />
  <link href="/css/font-awesome.min.css" rel="stylesheet" />
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="/css/styles.css" rel="stylesheet" />
</head>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.fancybox.pack.js?v=2.1.5"></script>
<script src="/js/planet.js"></script>

  <body>
    <div class="wrapper">
      <div class="box">
        <div class="row">
          <div class="column col-sm-12 col-md-12 col-lg-12" id="main">
            <div class="padding">
              <div class="col-sm-12">
  <div class="panel panel-default" id="featured">
    <div class="panel-body">
      
        <h4>gsoc-2014</h4>
      
      <h1>Week 4 Progress</h1>
      <div class="article">
        <p class="meta description">
          Jun 17, 2014
           • Amanpreet (Porting Flumotion)
          
        </p>
        
          <p class="tags">
            <span>Tags: </span>
            
              <span class="label label-tag">
                <a href="/iframe/tags/news">
                  news
                </a>
              </span>
            
              <span class="label label-tag">
                <a href="/iframe/tags/flumotion">
                  flumotion
                </a>
              </span>
            
          </p>
        
        <p class="share-buttons">
  <span>Share: </span>
  <span class="share-button"><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fplanet.timvideos.us%2Fiframe%2Fgsoc-2014%2F2014%2F06%2F17%2Fweek-4-progress%2F" target="_blank"><i class="fa fa-facebook-square fa-2x"></i></a></span>
  <span class="share-button"><a href="https://twitter.com/intent/tweet?source=http%3A%2F%2Fplanet.timvideos.us%2Fiframe%2Fgsoc-2014%2F2014%2F06%2F17%2Fweek-4-progress%2F&text=TimVideos.us%20Week+4+Progress%20http%3A%2F%2Fplanet.timvideos.us%2Fiframe%2Fgsoc-2014%2F2014%2F06%2F17%2Fweek-4-progress%2F" target="_blank" title="Tweet"><i class="fa fa-twitter-square fa-2x"></i></a></span>
  <span class="share-button"><a href="https://plus.google.com/share?url=http%3A%2F%2Fplanet.timvideos.us%2Fiframe%2Fgsoc-2014%2F2014%2F06%2F17%2Fweek-4-progress%2F" target="_blank" title="Share on Google+"><i class="fa fa-google-plus-square fa-2x"></i></a></span>
</p>
        <p class="article">
          <p>I started with some missed changes and continued with porting of Theora encoder, Ogg muxer and httpstreamer consumer. With these components, I was able to “watch” a test video stream.</p>

<p>After this, I continued with porting volume effects, audiotest producer and Vorbis encoder. This led to a successful test audio stream which I could “hear”.</p>

<p>When I tried to combine audiotest and videotest stream components, I was getting errors in linking srcpad and sinkpad due to incompatible caps of the pad. As I had suspected, it was due to improper blocking and unblocking of pads. Gst 0.10 used <code>set_blocked_async</code> function for blocking and unblocking pads while Gst 1.0 uses a probe of type ‘BLOCK’. Blocking was working fine but unblocking caused problems since it needed the particular probe id to remove it. Also, for some reason, callbacks for adding BLOCK probe were being called repeatedly.</p>

<p>Hence, I did these <a href="https://github.com/aps-sids/flumotion-orig/commit/6f1e924ff9412d4c01f9c454f4d271572f12e4e6">changes</a> to fix this issue and everything worked perfectly (except a few gstreamer warnings). You can see it for yourself using these <a href="http://aps-sids.github.io/porting-flumotion/2014/06/06/run-a-test-stream/">instructions</a> and this <a href="https://github.com/aps-sids/flumotion-orig/blob/8223a46cacf0beb8889dcfe704343ed20ca5be7f/test_config.xml">configuration</a>.</p>

<p>I’m really happy to see that I’m on schedule with my project timeline :) I’ll be fixing any bugs, writing documentation and then continue with porting of other components in week 5.</p><div class="author">
  <span>
    <i>Originally posted on <a href="http://aps-sids.github.io/porting-flumotion">Porting Flumotion - GSoC '14 Progress Blog</a></i>
  </span>
</div>

        </p>
      </div>
    </div>
  </div>
</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>