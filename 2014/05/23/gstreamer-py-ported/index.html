---
title: "gstreamer.py ported"
kind: article
created_at: 2014-05-23 07:00:00 UTC
author: Amanpreet (Porting Flumotion)
image: https://avatars2.githubusercontent.com/u/2363074?s=50
categories: GSoC-2014
tags: "news flumotion"
layout: post
---<p>After a bit of struggle, the tests for gstreamer.py module pass. The two tests (out of six) that were <a href="http://portingflumotion.blogspot.in/2013/06/gstreamerpy-and-testcommongstreamerpy_20.html">failing</a> last year were due to some changes in the gst.caps_from_string function. While gst returned a caps object that could be converted directly to string using python str() method, gi requires using to_string() method of caps object.</p>

<p>Another problem is that despite presence of gi in sys.modules, twisted is importing gtk2reactor which it shouldn’t be doing. I haven’t been able to figure out the reason for this so I had to comment the __init__ of tests module, for now.</p>

<p>Also, trying to create a test stream given following error:</p>

<div class="highlight"><pre><code class="bash">Twisted traceback:
Traceback from remote host -- Traceback unavailable
flumotion.common.errors.RemoteRunError: RemoteRunError on method <span class="s1">&#39;module flumotion.worker.checks.check could not be imported (exception ImportError at flumotion/common/package.py:54: import_module(): No module named &#39;</span>gi<span class="s1">&#39;)&#39;</span>
</code></pre></div>

<p>FIXME: fix problems with gtk2reactor and uncomment __init__.py</p><div class="author">
  <span>
    <i>Originally posted on <a href="http://aps-sids.github.io/porting-flumotion">Porting Flumotion - GSoC '14 Progress Blog</a></i>
  </span>
</div>
